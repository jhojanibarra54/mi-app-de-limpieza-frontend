import{$ as k,A as v,F as n,G as y,H as F,I,J as S,K as E,L as w,M as N,N as B,Q as M,S as R,T,U as x,V as G,W as H,_ as P,da as q,fa as D,k as s,l as u,m as g,n as f,o as c,p as e,q as o,r as a,s as b,t as d,u as h,w as C}from"./chunk-BKGTBVKK.js";import"./chunk-LJMIX235.js";import"./chunk-CBEOSJTC.js";import"./chunk-HVK7QFVP.js";import"./chunk-5JIQGJOD.js";import"./chunk-PGY34PD4.js";import"./chunk-GYLY2RJE.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{g as l}from"./chunk-2R6CW7ES.js";var Q=(()=>{let i=class i{constructor(t){this.fb=t,this.http=s(C),this.router=s(v),this.toastCtrl=s(q),this.apiUrl="http://localhost/php-api/api/auth/register.php",this.registerForm=this.fb.group({name:["",[n.required]],email:["",[n.required,n.email]],password:["",[n.required,n.minLength(6)]]})}onRegister(){return l(this,null,function*(){this.registerForm.invalid||(document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this.http.post(this.apiUrl,this.registerForm.value).subscribe({next:t=>l(this,null,function*(){yield(yield this.toastCtrl.create({message:t.message,duration:2e3,color:"success"})).present(),this.router.navigateByUrl("/login")}),error:t=>l(this,null,function*(){yield(yield this.toastCtrl.create({message:t.error.message||"Error al registrar.",duration:3e3,color:"danger"})).present()})}))})}};i.\u0275fac=function(r){return new(r||i)(g(w))},i.\u0275cmp=f({type:i,selectors:[["app-register"]],decls:16,vars:2,consts:[["slot","start"],["defaultHref","/welcome"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],["label","Nombre completo","labelPlacement","floating","formControlName","name","type","text"],["label","Correo electr\xF3nico","labelPlacement","floating","formControlName","email","type","email"],["label","Contrase\xF1a","labelPlacement","floating","formControlName","password","type","password"],["type","submit","expand","block",1,"ion-margin-top",3,"disabled"]],template:function(r,p){r&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),a(3,"ion-back-button",1),o(),e(4,"ion-title"),d(5,"Crear Cuenta"),o()()(),e(6,"ion-content",2)(7,"form",3),b("ngSubmit",function(){return p.onRegister()}),e(8,"ion-item"),a(9,"ion-input",4),o(),e(10,"ion-item"),a(11,"ion-input",5),o(),e(12,"ion-item"),a(13,"ion-input",6),o(),e(14,"ion-button",7),d(15," Registrarme "),o()()()),r&2&&(u(7),c("formGroup",p.registerForm),u(7),c("disabled",p.registerForm.invalid))},dependencies:[G,k,T,M,P,x,H,D,R,h,B,I,y,F,S,E,N],encapsulation:2});let m=i;return m})();export{Q as RegisterPage};
